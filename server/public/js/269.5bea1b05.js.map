{"version":3,"file":"js/269.5bea1b05.js","mappings":"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","sources":["webpack://client/./src/views/academics/DepartmentListView.vue","webpack://client/src/views/academics/DepartmentListView.vue","webpack://client/./src/views/academics/DepartmentListView.vue?d384","webpack://client/./src/views/academics/DepartmentListView.vue?298a","webpack://client/../../../src/components/VForm/VForm.ts"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('v-container',[_c('v-card',{staticClass:\"mb-4\"},[_c('v-row',{attrs:{\"align\":\"center\",\"no-gutters\":\"\"}},[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"d-flex justify-space-between pa-4\"},[_c('v-text-field',{staticClass:\"search-field\",staticStyle:{\"max-width\":\"300px\"},attrs:{\"prepend-inner-icon\":\"mdi-magnify\",\"placeholder\":\"Search departments...\",\"hide-details\":\"\",\"single-line\":\"\",\"filled\":\"\",\"rounded\":\"\",\"dense\":\"\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.fetchDepartments.apply(null, arguments)}},model:{value:(_vm.options.search),callback:function ($$v) {_vm.$set(_vm.options, \"search\", $$v)},expression:\"options.search\"}}),_c('v-btn',{attrs:{\"color\":\"primary\"},on:{\"click\":_vm.openCreateDialog}},[_c('v-icon',{attrs:{\"left\":\"\"}},[_vm._v(\"mdi-plus\")]),_vm._v(\" New Department \")],1)],1)])],1)],1),_c('v-card',[_c('v-data-table',{attrs:{\"headers\":_vm.headers,\"items\":_vm.departments,\"loading\":_vm.loading,\"options\":_vm.options,\"server-items-length\":_vm.totalDepartments,\"items-per-page\":10},on:{\"update:options\":function($event){_vm.options=$event}},scopedSlots:_vm._u([{key:\"item.actions\",fn:function({ item }){return [_c('div',{staticClass:\"d-flex justify-end\"},[_c('v-btn',{staticClass:\"mr-2\",attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"primary\"},on:{\"click\":function($event){return _vm.editDepartment(item)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-pencil\")])],1),_c('v-btn',{attrs:{\"icon\":\"\",\"small\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.confirmDelete(item)}}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"mdi-delete\")])],1)],1)]}},{key:\"no-data\",fn:function(){return [_c('div',{staticClass:\"pa-8 text-center\"},[_c('v-icon',{attrs:{\"size\":\"64\",\"color\":\"grey lighten-1\"}},[_vm._v(\"mdi-domain\")]),_c('div',{staticClass:\"text-h6 grey--text text--darken-1 mt-4\"},[_vm._v(\" No departments found \")]),_c('div',{staticClass:\"text-body-2 grey--text mt-2\"},[_vm._v(\" Try adjusting your search or add a new department \")])],1)]},proxy:true}])})],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.createDialog),callback:function ($$v) {_vm.createDialog=$$v},expression:\"createDialog\"}},[_c('v-card',[_c('v-card-title',[_c('span',{staticClass:\"text-h5\"},[_vm._v(_vm._s(_vm.editMode ? \"Edit Department\" : \"New Department\"))])]),_c('v-card-text',[_c('v-container',[_c('v-form',{ref:\"form\",attrs:{\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.formRules.name,\"label\":\"Department Name\",\"required\":\"\"},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1)],1)],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.closeCreateDialog}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":!_vm.valid,\"loading\":_vm.loading},on:{\"click\":_vm.handleCreate}},[_vm._v(\" \"+_vm._s(_vm.editMode ? \"Save\" : \"Create\")+\" \")])],1)],1)],1),_c('v-dialog',{attrs:{\"max-width\":\"400\"},model:{value:(_vm.deleteDialog),callback:function ($$v) {_vm.deleteDialog=$$v},expression:\"deleteDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"error--text\"},[_c('v-icon',{attrs:{\"left\":\"\",\"color\":\"error\"}},[_vm._v(\"mdi-alert-circle\")]),_vm._v(\" Confirm Delete \")],1),_c('v-card-text',{staticClass:\"pt-4\"},[_vm._v(\" Are you sure you want to delete this department? \"),_c('div',{staticClass:\"mt-4 pa-4 grey lighten-4 rounded\"},[_c('div',{staticClass:\"font-weight-medium\"},[_vm._v(\" \"+_vm._s(_vm.departmentToDelete?.name)+\" \")])])]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.deleteDialog = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"color\":\"error\",\"loading\":_vm.loading},on:{\"click\":_vm.handleDelete}},[_vm._v(\" Delete \")])],1)],1)],1),_c('v-snackbar',{attrs:{\"color\":_vm.snackbarColor,\"timeout\":3000,\"top\":\"\",\"right\":\"\"},scopedSlots:_vm._u([{key:\"action\",fn:function({ attrs }){return [_c('v-btn',_vm._b({attrs:{\"icon\":\"\"},on:{\"click\":function($event){_vm.showSnackbar = false}}},'v-btn',attrs,false),[_c('v-icon',[_vm._v(\"mdi-close\")])],1)]}}]),model:{value:(_vm.showSnackbar),callback:function ($$v) {_vm.showSnackbar=$$v},expression:\"showSnackbar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbarText)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <v-card class=\"mb-4\">\n      <v-row align=\"center\" no-gutters>\n        <v-col cols=\"12\">\n          <div class=\"d-flex justify-space-between pa-4\">\n            <v-text-field\n              v-model=\"options.search\"\n              prepend-inner-icon=\"mdi-magnify\"\n              placeholder=\"Search departments...\"\n              hide-details\n              single-line\n              filled\n              rounded\n              dense\n              class=\"search-field\"\n              style=\"max-width: 300px\"\n              @keyup.enter=\"fetchDepartments\"\n            ></v-text-field>\n\n            <v-btn color=\"primary\" @click=\"openCreateDialog\">\n              <v-icon left>mdi-plus</v-icon>\n              New Department\n            </v-btn>\n          </div>\n        </v-col>\n      </v-row>\n    </v-card>\n\n    <v-card>\n      <v-data-table\n        :headers=\"headers\"\n        :items=\"departments\"\n        :loading=\"loading\"\n        :options.sync=\"options\"\n        :server-items-length=\"totalDepartments\"\n        :items-per-page=\"10\"\n      >\n        <template v-slot:item.actions=\"{ item }\">\n          <div class=\"d-flex justify-end\">\n            <v-btn\n              icon\n              small\n              color=\"primary\"\n              class=\"mr-2\"\n              @click=\"editDepartment(item)\"\n            >\n              <v-icon small>mdi-pencil</v-icon>\n            </v-btn>\n\n            <v-btn icon small color=\"error\" @click=\"confirmDelete(item)\">\n              <v-icon small>mdi-delete</v-icon>\n            </v-btn>\n          </div>\n        </template>\n\n        <template v-slot:no-data>\n          <div class=\"pa-8 text-center\">\n            <v-icon size=\"64\" color=\"grey lighten-1\">mdi-domain</v-icon>\n            <div class=\"text-h6 grey--text text--darken-1 mt-4\">\n              No departments found\n            </div>\n            <div class=\"text-body-2 grey--text mt-2\">\n              Try adjusting your search or add a new department\n            </div>\n          </div>\n        </template>\n      </v-data-table>\n    </v-card>\n\n    <!-- Department Form Dialog -->\n    <v-dialog v-model=\"createDialog\" max-width=\"500px\">\n      <v-card>\n        <v-card-title>\n          <span class=\"text-h5\">{{\n            editMode ? \"Edit Department\" : \"New Department\"\n          }}</span>\n        </v-card-title>\n\n        <v-card-text>\n          <v-container>\n            <v-form ref=\"form\" v-model=\"valid\" lazy-validation>\n              <v-row>\n                <v-col cols=\"12\">\n                  <v-text-field\n                    v-model=\"form.name\"\n                    :rules=\"formRules.name\"\n                    label=\"Department Name\"\n                    required\n                  ></v-text-field>\n                </v-col>\n              </v-row>\n            </v-form>\n          </v-container>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn text @click=\"closeCreateDialog\">Cancel</v-btn>\n          <v-btn\n            color=\"primary\"\n            :disabled=\"!valid\"\n            :loading=\"loading\"\n            @click=\"handleCreate\"\n          >\n            {{ editMode ? \"Save\" : \"Create\" }}\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <!-- Delete Dialog -->\n    <v-dialog v-model=\"deleteDialog\" max-width=\"400\">\n      <v-card>\n        <v-card-title class=\"error--text\">\n          <v-icon left color=\"error\">mdi-alert-circle</v-icon>\n          Confirm Delete\n        </v-card-title>\n\n        <v-card-text class=\"pt-4\">\n          Are you sure you want to delete this department?\n          <div class=\"mt-4 pa-4 grey lighten-4 rounded\">\n            <div class=\"font-weight-medium\">\n              {{ departmentToDelete?.name }}\n            </div>\n          </div>\n        </v-card-text>\n\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn text @click=\"deleteDialog = false\">Cancel</v-btn>\n          <v-btn color=\"error\" @click=\"handleDelete\" :loading=\"loading\">\n            Delete\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-snackbar\n      v-model=\"showSnackbar\"\n      :color=\"snackbarColor\"\n      :timeout=\"3000\"\n      top\n      right\n    >\n      {{ snackbarText }}\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn icon v-bind=\"attrs\" @click=\"showSnackbar = false\">\n          <v-icon>mdi-close</v-icon>\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </v-container>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\n\nexport default {\n  name: \"DepartmentListView\",\n\n  data: () => ({\n    valid: false,\n    options: {\n      page: 1,\n      itemsPerPage: 10,\n      search: \"\",\n    },\n    createDialog: false,\n    deleteDialog: false,\n    departmentToDelete: null,\n    form: { name: \"\" },\n    formRules: {\n      name: [(v) => !!v || \"Department name is required\"],\n    },\n    headers: [\n      { text: \"Department Name\", align: \"start\", value: \"name\" },\n      { text: \"Actions\", value: \"actions\", sortable: false, align: \"end\" },\n    ],\n    editMode: false,\n    loading: false,\n    snackbarColor: \"\",\n    snackbarText: \"\",\n    showSnackbar: false,\n  }),\n\n  computed: {\n    ...mapState(\"departments\", [\"departments\", \"totalDepartments\"]),\n  },\n\n  methods: {\n    ...mapActions(\"departments\", [\n      \"fetchDepartments\",\n      \"createDepartment\",\n      \"updateDepartment\",\n      \"deleteDepartment\",\n    ]),\n\n    openCreateDialog() {\n      this.editMode = false;\n      this.createDialog = true;\n      this.form = { name: \"\" };\n    },\n\n    closeCreateDialog() {\n      this.createDialog = false;\n      this.form = { name: \"\" };\n      if (this.$refs.form) this.$refs.form.reset();\n    },\n\n    async handleCreate() {\n      if (this.$refs.form.validate()) {\n        this.loading = true;\n        try {\n          if (this.editMode) {\n            await this.updateDepartment({\n              id: this.form._id,\n              departmentData: this.form,\n            });\n            this.showSnackbarMessage(\n              \"Department updated successfully!\",\n              \"success\"\n            );\n          } else {\n            await this.createDepartment(this.form);\n            this.showSnackbarMessage(\n              \"Department created successfully!\",\n              \"success\"\n            );\n          }\n          this.fetchDepartments();\n          this.closeCreateDialog();\n        } catch (error) {\n          this.showSnackbarMessage(\n            error.response?.data?.message || \"An error occurred!\",\n            \"error\"\n          );\n        } finally {\n          this.loading = false;\n        }\n      }\n    },\n\n    editDepartment(item) {\n      this.editMode = true;\n      this.form = { ...item };\n      this.createDialog = true;\n    },\n\n    confirmDelete(item) {\n      this.departmentToDelete = item;\n      this.deleteDialog = true;\n    },\n\n    async handleDelete() {\n      this.loading = true;\n      try {\n        await this.deleteDepartment(this.departmentToDelete._id);\n        this.showSnackbarMessage(\"Department deleted successfully!\", \"success\");\n        this.fetchDepartments();\n      } catch (error) {\n        this.showSnackbarMessage(\"Failed to delete department!\", \"error\");\n      } finally {\n        this.loading = false;\n        this.deleteDialog = false;\n      }\n    },\n\n    showSnackbarMessage(message, color) {\n      this.snackbarText = message;\n      this.snackbarColor = color;\n      this.showSnackbar = true;\n    },\n\n    async handleSearch() {\n      this.options.page = 1;\n      await this.fetchDepartments();\n    },\n  },\n\n  created() {\n    this.fetchDepartments();\n  },\n};\n</script>\n\n<style scoped>\n.v-data-table {\n  border-radius: 8px;\n}\n\n@media (max-width: 600px) {\n  .search-field {\n    max-width: 100% !important;\n    margin-bottom: 16px;\n  }\n\n  .d-flex {\n    flex-wrap: wrap;\n  }\n\n  .v-btn {\n    margin-bottom: 8px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DepartmentListView.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DepartmentListView.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DepartmentListView.vue?vue&type=template&id=2ed0db4d&scoped=true\"\nimport script from \"./DepartmentListView.vue?vue&type=script&lang=js\"\nexport * from \"./DepartmentListView.vue?vue&type=script&lang=js\"\nimport style0 from \"./DepartmentListView.vue?vue&type=style&index=0&id=2ed0db4d&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2ed0db4d\",\n  null\n  \n)\n\nexport default component.exports","// Components\nimport VInput from '../VInput/VInput'\n\n// Mixins\nimport mixins from '../../util/mixins'\nimport BindsAttrs from '../../mixins/binds-attrs'\nimport { provide as RegistrableProvide } from '../../mixins/registrable'\n\n// Helpers\nimport { VNode } from 'vue'\nimport { getSlot } from '../../util/helpers'\n\ntype ErrorBag = Record<number, boolean>\ntype VInputInstance = InstanceType<typeof VInput>\ntype Watchers = {\n  _uid: number\n  valid: () => void\n  shouldValidate: () => void\n}\n\n/* @vue/component */\nexport default mixins(\n  BindsAttrs,\n  RegistrableProvide('form')\n  /* @vue/component */\n).extend({\n  name: 'v-form',\n\n  provide (): object {\n    return { form: this }\n  },\n\n  inheritAttrs: false,\n\n  props: {\n    disabled: Boolean,\n    lazyValidation: Boolean,\n    readonly: Boolean,\n    value: Boolean,\n  },\n\n  data: () => ({\n    inputs: [] as VInputInstance[],\n    watchers: [] as Watchers[],\n    errorBag: {} as ErrorBag,\n  }),\n\n  watch: {\n    errorBag: {\n      handler (val) {\n        const errors = Object.values(val).includes(true)\n\n        this.$emit('input', !errors)\n      },\n      deep: true,\n      immediate: true,\n    },\n  },\n\n  methods: {\n    watchInput (input: any): Watchers {\n      const watcher = (input: any): (() => void) => {\n        return input.$watch('hasError', (val: boolean) => {\n          this.$set(this.errorBag, input._uid, val)\n        }, { immediate: true })\n      }\n\n      const watchers: Watchers = {\n        _uid: input._uid,\n        valid: () => {},\n        shouldValidate: () => {},\n      }\n\n      if (this.lazyValidation) {\n        // Only start watching inputs if we need to\n        watchers.shouldValidate = input.$watch('shouldValidate', (val: boolean) => {\n          if (!val) return\n\n          // Only watch if we're not already doing it\n          if (this.errorBag.hasOwnProperty(input._uid)) return\n\n          watchers.valid = watcher(input)\n        })\n      } else {\n        watchers.valid = watcher(input)\n      }\n\n      return watchers\n    },\n    /** @public */\n    validate (): boolean {\n      return this.inputs.filter(input => !input.validate(true)).length === 0\n    },\n    /** @public */\n    reset (): void {\n      this.inputs.forEach(input => input.reset())\n      this.resetErrorBag()\n    },\n    resetErrorBag () {\n      if (this.lazyValidation) {\n        // Account for timeout in validatable\n        setTimeout(() => {\n          this.errorBag = {}\n        }, 0)\n      }\n    },\n    /** @public */\n    resetValidation () {\n      this.inputs.forEach(input => input.resetValidation())\n      this.resetErrorBag()\n    },\n    register (input: VInputInstance) {\n      this.inputs.push(input)\n      this.watchers.push(this.watchInput(input))\n    },\n    unregister (input: VInputInstance) {\n      const found = this.inputs.find(i => i._uid === input._uid)\n\n      if (!found) return\n\n      const unwatch = this.watchers.find(i => i._uid === found._uid)\n      if (unwatch) {\n        unwatch.valid()\n        unwatch.shouldValidate()\n      }\n\n      this.watchers = this.watchers.filter(i => i._uid !== found._uid)\n      this.inputs = this.inputs.filter(i => i._uid !== found._uid)\n      this.$delete(this.errorBag, found._uid)\n    },\n  },\n\n  render (h): VNode {\n    return h('form', {\n      staticClass: 'v-form',\n      attrs: {\n        novalidate: true,\n        ...this.attrs$,\n      },\n      on: {\n        submit: (e: Event) => this.$emit('submit', e),\n      },\n    }, getSlot(this))\n  },\n})\n"],"names":["staticClass","staticStyle","attrs","on","type","_vm","callback","$$v","options","expression","_c","openCreateDialog","scopedSlots","fn","item","editDepartment","confirmDelete","_v","proxy","createDialog","ref","model","valid","value","closeCreateDialog","loading","editMode","deleteDialog","key","showSnackbar","staticRenderFns","render","name","data","page","itemsPerPage","search","departmentToDelete","form","formRules","v","headers","text","align","sortable","snackbarColor","snackbarText","computed","mapState","methods","mapActions","$refs","reset","handleCreate","validate","updateDepartment","id","_id","departmentData","showSnackbarMessage","createDepartment","fetchDepartments","error","response","message","handleDelete","deleteDepartment","color","handleSearch","created","component","mixins","BindsAttrs","RegistrableProvide","extend","provide","this","inheritAttrs","props","disabled","Boolean","lazyValidation","readonly","inputs","watchers","errorBag","watch","handler","val","errors","Object","values","includes","$emit","deep","immediate","watchInput","input","watcher","$watch","$set","_uid","shouldValidate","hasOwnProperty","filter","length","forEach","resetErrorBag","setTimeout","resetValidation","register","push","unregister","found","find","i","unwatch","$delete","h","novalidate","attrs$","submit","e","getSlot"],"sourceRoot":""}