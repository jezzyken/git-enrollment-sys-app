"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[247],{4413:function(e,t,s){s.r(t),s.d(t,{default:function(){return x}});var r=s(3740),a=s(3698),o=s(2938),i=s(4414),l=s(3449),c=s(3064),n=s(9991),d=s(6930),u=s(2756),m=s(7150),h=s(1034),C=s(7112),f=function(){var e=this,t=e._self._c;return t(l.A,[t(a.A,{staticClass:"mb-4"},[t(u.A,{attrs:{align:"center","no-gutters":""}},[t(i.A,{attrs:{cols:"12"}},[t("div",{staticClass:"d-flex justify-space-between pa-4"},[t(C.A,{staticClass:"search-field",staticStyle:{"max-width":"400px"},attrs:{"prepend-inner-icon":"mdi-magnify",placeholder:"Search courses...","hide-details":"","single-line":"",filled:"",rounded:"",dense:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.fetchCourses.apply(null,arguments)}},model:{value:e.options.search,callback:function(t){e.$set(e.options,"search",t)},expression:"options.search"}}),t(r.A,{attrs:{color:"primary"},on:{click:e.openCreateDialog}},[t(d.A,{attrs:{left:""}},[e._v("mdi-plus")]),e._v(" New Course ")],1)],1)])],1)],1),t(a.A,[t(c.A,{attrs:{headers:e.headers,items:e.courses,loading:e.loading,"items-per-page":10},scopedSlots:e._u([{key:"item.actions",fn:function({item:s}){return[t("div",{staticClass:"d-flex justify-end"},[t(r.A,{staticClass:"mr-2",attrs:{icon:"",small:"",color:"primary"},on:{click:function(t){return e.openEditDialog(s)}}},[t(d.A,{attrs:{small:""}},[e._v("mdi-pencil")])],1),t(r.A,{attrs:{icon:"",small:"",color:"error"},on:{click:function(t){return e.confirmDelete(s)}}},[t(d.A,{attrs:{small:""}},[e._v("mdi-delete")])],1)],1)]}},{key:"no-data",fn:function(){return[t("div",{staticClass:"pa-8 text-center"},[t(d.A,{attrs:{size:"64",color:"grey lighten-1"}},[e._v("mdi-book-outline")]),t("div",{staticClass:"text-h6 grey--text text--darken-1 mt-4"},[e._v(" No courses found ")]),t("div",{staticClass:"text-body-2 grey--text mt-2"},[e._v(" Try adjusting your search or add a new course ")])],1)]},proxy:!0}])})],1),t(n.A,{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(a.A,[t(o.ri,[t("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),t(o.OQ,[t(l.A,[t(u.A,[t(i.A,{attrs:{cols:"12"}},[t(C.A,{attrs:{label:"Course Name","error-messages":e.nameError,required:""},model:{value:e.editedItem.courseName,callback:function(t){e.$set(e.editedItem,"courseName",t)},expression:"editedItem.courseName"}})],1),t(i.A,{attrs:{cols:"12"}},[t(C.A,{attrs:{label:"Course Abbreviation","error-messages":e.codeError,required:""},model:{value:e.editedItem.courseCode,callback:function(t){e.$set(e.editedItem,"courseCode",t)},expression:"editedItem.courseCode"}})],1)],1)],1)],1),t(o.SL,[t(h.A),t(r.A,{attrs:{text:""},on:{click:e.closeDialog}},[e._v("Cancel")]),t(r.A,{attrs:{color:"primary",loading:e.loading},on:{click:e.saveCourse}},[e._v(" Save ")])],1)],1)],1),t(n.A,{attrs:{"max-width":"400"},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[t(a.A,[t(o.ri,{staticClass:"error--text"},[t(d.A,{attrs:{left:"",color:"error"}},[e._v("mdi-alert-circle")]),e._v(" Confirm Delete ")],1),t(o.OQ,{staticClass:"pt-4"},[e._v(" Are you sure you want to delete this course? "),t("div",{staticClass:"mt-4 pa-4 grey lighten-4 rounded"},[t("div",{staticClass:"font-weight-medium"},[e._v(" "+e._s(e.courseToDelete?.courseName)+" ")]),t("div",{staticClass:"caption text-medium-emphasis"},[e._v(" Code: "+e._s(e.courseToDelete?.courseCode)+" ")])])]),t(o.SL,[t(h.A),t(r.A,{attrs:{text:""},on:{click:function(t){e.deleteDialog=!1}}},[e._v("Cancel")]),t(r.A,{attrs:{color:"error",loading:e.loading},on:{click:e.handleDelete}},[e._v(" Delete ")])],1)],1)],1),t(m.A,{attrs:{color:e.snackbarColor,timeout:4e3,top:"",right:""},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(r.A,e._b({attrs:{icon:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[t(d.A,[e._v("mdi-close")])],1)]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(" "+e._s(e.snackbarText)+" ")])],1)},g=[],p=s(5353),k={name:"CourseListView",data:()=>({dialog:!1,deleteDialog:!1,options:{search:""},headers:[{text:"Course Name",value:"courseName",sortable:!0},{text:"Course Abbreviation",value:"courseCode",sortable:!0},{text:"Actions",value:"actions",sortable:!1,align:"end"}],editedItem:{courseName:"",courseCode:""},defaultItem:{courseName:"",courseCode:""},courseToDelete:null,nameError:"",codeError:"",snackbar:!1,snackbarColor:"",snackbarText:""}),computed:{...(0,p.aH)("courses",["courses","loading"]),formTitle(){return this.editedItem._id?"Edit Course":"New Course"}},methods:{...(0,p.i0)("courses",["fetchCourses","createCourse","updateCourse","deleteCourse"]),openCreateDialog(){this.editedItem={...this.defaultItem},this.dialog=!0},openEditDialog(e){this.editedItem={...e},this.dialog=!0},closeDialog(){this.dialog=!1,this.nameError="",this.codeError="",this.$nextTick((()=>{this.editedItem={...this.defaultItem}}))},async saveCourse(){if(this.validateForm())try{this.editedItem._id?(await this.updateCourse({id:this.editedItem._id,courseData:this.editedItem}),this.showSnackbarMessage("Course updated successfully!","success")):(await this.createCourse(this.editedItem),this.showSnackbarMessage("Course created successfully!","success")),this.closeDialog(),this.fetchCourses()}catch(e){this.showSnackbarMessage(e.response?.data?.message||"Operation failed!","error")}},validateForm(){let e=!0;return this.nameError="",this.codeError="",this.editedItem.courseName||(this.nameError="Course name is required",e=!1),this.editedItem.courseCode||(this.codeError="Course abbreviation is required",e=!1),e},confirmDelete(e){this.courseToDelete=e,this.deleteDialog=!0},async handleDelete(){try{await this.deleteCourse(this.courseToDelete._id),this.showSnackbarMessage("Course deleted successfully!","success"),this.fetchCourses()}catch(e){this.showSnackbarMessage(e.response?.data?.message||"Failed to delete course!","error")}finally{this.deleteDialog=!1}},showSnackbarMessage(e,t){this.snackbarText=e,this.snackbarColor=t,this.snackbar=!0}},created(){this.fetchCourses()}},v=k,b=s(1656),A=(0,b.A)(v,f,g,!1,null,"68ec3576",null),x=A.exports}}]);
//# sourceMappingURL=247.21cabcdf.js.map