"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[583],{92997:function(e,t,s){s.r(t),s.d(t,{default:function(){return ae}});var i=s(97678),r=s(94112),n=s(33740),l=s(3698),o=s(52938),a=s(36092),c=s(13180),d=s(12050),u=s(58743),m=s(95803),h=(0,m.A)(d.Ql,u.A).extend({name:"v-chip-group",provide(){return{chipGroup:this}},props:{column:Boolean},computed:{classes(){return{...d.Ql.options.computed.classes.call(this),"v-chip-group":!0,"v-chip-group--column":this.column}}},watch:{column(e){e&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData(){return this.setTextColor(this.color,{...d.Ql.options.methods.genData.call(this)})}}}),p=s(54414),f=s(3449),v=s(93064),g=s(81446),A=s(59483),S=s(45961),b=s(70174),_=s(36930),y=s(98983),C=s(17296),x=s(82659),w=s(98924),F=s(46237),I=s(68907),$=s(51554),k=s(96355),O=s(90569),D=s(26993),T=s(17717),N=s(37515),j=s(77018),M=s(73381),q=s(8944),E=s(4152),P=s(18041);const R=(0,m.A)(T.A,u.A,j.A,(0,N.P)("radioGroup"),M.A);var L=R.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:{type:Boolean,default:null},id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:{type:Boolean,default:null},value:{default:null}},data:()=>({isFocused:!1}),computed:{classes(){return{"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused,...this.themeClasses,...this.groupClasses}},computedColor(){if(!this.isDisabled)return q.A.options.computed.computedColor.call(this)},computedIcon(){return this.isActive?this.onIcon:this.offIcon},computedId(){return D.A.options.computed.computedId.call(this)},hasLabel:D.A.options.computed.hasLabel,hasState(){return(this.radioGroup||{}).hasState},isDisabled(){var e;return null!==(e=this.disabled)&&void 0!==e?e:!!this.radioGroup&&this.radioGroup.isDisabled},isReadonly(){var e;return null!==(e=this.readonly)&&void 0!==e?e:!!this.radioGroup&&this.radioGroup.isReadonly},computedName(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||`radio-${this.radioGroup._uid}`},rippleState(){return q.A.options.computed.rippleState.call(this)},validationState(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput(e){return q.A.options.methods.genInput.call(this,"radio",e)},genLabel(){return this.hasLabel?this.$createElement(k.A,{on:{click:q.F},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},(0,E.$c)(this,"label")||this.label):null},genRadio(){const{title:e,...t}=this.attrs$;return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(O.A,this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput({name:this.computedName,value:this.value,...t}),this.genRipple(this.setTextColor(this.rippleState))])},onFocus(e){this.isFocused=!0,this.$emit("focus",e)},onBlur(e){this.isFocused=!1,this.$emit("blur",e)},onChange(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:()=>{}},render(e){const t={staticClass:"v-radio",class:this.classes,on:(0,P.wf)({click:this.onChange},this.listeners$),attrs:{title:this.attrs$.title}};return e("div",t,[this.genRadio(),this.genLabel()])}}),B=(s(15601),s(60048));const z=(0,m.A)(B.C,D.A);var G=z.extend({name:"v-radio-group",provide(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes(){return{...D.A.options.computed.classes.call(this),"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row}}},methods:{genDefaultSlot(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},D.A.options.methods.genDefaultSlot.call(this))},genInputSlot(){const e=D.A.options.methods.genInputSlot.call(this);return delete e.data.on.click,e},genLabel(){const e=D.A.options.methods.genLabel.call(this);return e?(e.data.attrs.id=this.computedId,delete e.data.attrs.for,e.tag="legend",e):null},onClick:B.C.options.methods.onClick},render(e){const t=D.A.options.render.call(this,e);return this._b(t.data,"div",this.attrs$),t}}),U=s(2756),Y=s(25834),V=s(37150),H=s(41034),W=s(37732),Z=s(37917),Q=s(233),X=s(98124),K=s(63302),J=s(97112),ee=s(47270),te=function(){var e=this,t=e._self._c;return t(f.A,{staticClass:"pa-6",attrs:{fluid:""}},[t(I.A,{attrs:{value:e.loading}},[t($.A,{attrs:{indeterminate:"",size:"64"}})],1),t(b.A,{ref:"form",attrs:{"lazy-validation":""}},[t(W.A,{staticClass:"mb-6 elevation-1",model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[t(Q.vY,[e.isRegistrar?e._e():[t(X.A,{attrs:{complete:e.currentStep>1,step:"1"}},[e._v(" Student Type "),t("small",[e._v("New or Existing Student")])]),t(A.A)],t(X.A,{attrs:{complete:e.currentStep>2,step:e.isRegistrar?1:2}},[e._v(" Student Details "),t("small",[e._v("Basic Information")])]),t(A.A),t(X.A,{attrs:{complete:e.currentStep>3,step:e.isRegistrar?2:3}},[e._v(" Enrollment Details "),t("small",[e._v("Academic Information")])]),t(A.A),t(X.A,{attrs:{step:e.isRegistrar?3:4}},[e._v(" Review "),t("small",[e._v("Verify Details")])])],2),t(Q.WV,[e.isRegistrar?e._e():t(Z.A,{attrs:{step:"1"}},[t(l.A,{staticClass:"mb-6"},[t(o.ri,{staticClass:"headline primary white--text pa-2"},[e._v(" "+e._s(e.isProgramHead?"Select Student":"Select Student Type")+" ")]),t(o.OQ,{staticClass:"pa-6"},[e.isProgramHead?e._e():t(G,{attrs:{mandatory:""},model:{value:e.enrollmentForm.enrollmentType,callback:function(t){e.$set(e.enrollmentForm,"enrollmentType",t)},expression:"enrollmentForm.enrollmentType"}},[t(L,{attrs:{label:"New Student",value:"new"}}),t(L,{attrs:{label:"Existing Student",value:"old"}})],1),t(S.Qo,[e.isProgramHead||"old"===e.enrollmentForm.enrollmentType?t("div",[t(l.A,[t("div",{staticClass:"d-flex justify-end pa-4"},[t(J.A,{staticClass:"search-field",staticStyle:{"max-width":"400px"},attrs:{"prepend-inner-icon":"mdi-magnify",placeholder:"Search students...","hide-details":"","single-line":"",filled:"",rounded:"",dense:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(v.A,{attrs:{headers:e.studentHeaders,items:e.filteredStudents,loading:e.loading,"single-select":"","show-select":""},on:{"item-selected":e.handleStudentSelect},scopedSlots:e._u([{key:"item.name",fn:function({item:s}){return[t("div",{staticClass:"d-flex align-center py-2"},[t(r.A,{staticClass:"mr-3",attrs:{color:"primary lighten-4",size:"40"}},[t("span",{staticClass:"primary--text font-weight-medium"},[e._v(" "+e._s(s.name.firstName[0])+e._s(s.name.surname[0])+" ")])]),t("div",{staticClass:"font-weight-medium"},[e._v(" "+e._s(s.name.surname)+", "+e._s(s.name.firstName)+" "+e._s(s.name.middleName?s.name.middleName[0]+".":"")+" "+e._s(s.name.nameExtension||"")+" ")])],1)]}},{key:"item.course",fn:function({item:s}){return[t(c.A,{attrs:{small:"",outlined:"",color:"primary"}},[e._v(" "+e._s(s.course.courseCode)+" ")])]}}],null,!1,192207247)})],1)],1):e._e()])],1)],1)],1),t(Z.A,{attrs:{step:"2"}},["new"===e.enrollmentForm.enrollmentType?t(l.A,{staticClass:"mb-6"},[t(o.ri,{staticClass:"headline primary white--text pa-2"},[e._v(" Student Information ")]),t(o.OQ,{staticClass:"pa-6"},[t(U.A,[t(p.A,{attrs:{cols:"12",md:"3"}},[t(J.A,{attrs:{label:"Surname*",outlined:"",dense:"",required:""},model:{value:e.studentForm.name.surname,callback:function(t){e.$set(e.studentForm.name,"surname",t)},expression:"studentForm.name.surname"}})],1),t(p.A,{attrs:{cols:"12",md:"3"}},[t(J.A,{attrs:{label:"First Name*",outlined:"",dense:"",required:""},model:{value:e.studentForm.name.firstName,callback:function(t){e.$set(e.studentForm.name,"firstName",t)},expression:"studentForm.name.firstName"}})],1),t(p.A,{attrs:{cols:"12",md:"3"}},[t(J.A,{attrs:{label:"Middle Name",outlined:"",dense:"",hint:"Optional","persistent-hint":""},model:{value:e.studentForm.name.middleName,callback:function(t){e.$set(e.studentForm.name,"middleName",t)},expression:"studentForm.name.middleName"}})],1),t(p.A,{attrs:{cols:"12",md:"3"}},[t(J.A,{attrs:{label:"Name Extension",outlined:"",dense:"",hint:"E.g., Jr., Sr., III","persistent-hint":""},model:{value:e.studentForm.name.nameExtension,callback:function(t){e.$set(e.studentForm.name,"nameExtension",t)},expression:"studentForm.name.nameExtension"}})],1)],1),t(U.A,[t(p.A,{attrs:{cols:"12",md:"3"}},[t(Y.A,{attrs:{items:["Male","Female"],label:"Gender",outlined:"",dense:""},model:{value:e.studentForm.personalInfo.gender,callback:function(t){e.$set(e.studentForm.personalInfo,"gender",t)},expression:"studentForm.personalInfo.gender"}})],1),t(p.A,{attrs:{cols:"12",md:"3"}},[t(F.A,{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(J.A,e._g(e._b({attrs:{label:"Date of Birth",readonly:"",outlined:"",dense:"","prepend-inner-icon":"mdi-calendar"},model:{value:e.formattedDateOfBirth,callback:function(t){e.formattedDateOfBirth=t},expression:"formattedDateOfBirth"}},"v-text-field",i,!1),s))]}}],null,!1,330019118),model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[t(g.A,{on:{input:function(t){e.dateMenu=!1}},model:{value:e.studentForm.dateOfBirth,callback:function(t){e.$set(e.studentForm,"dateOfBirth",t)},expression:"studentForm.dateOfBirth"}})],1)],1),t(p.A,{attrs:{cols:"6"}},[t(J.A,{attrs:{label:"Home Address",outlined:"",dense:"",placeholder:"Enter complete address","prepend-inner-icon":"mdi-map-marker"},model:{value:e.studentForm.homeAddress,callback:function(t){e.$set(e.studentForm,"homeAddress",t)},expression:"studentForm.homeAddress"}})],1)],1)],1)],1):e._e(),t(l.A,{staticClass:"mb-6"},[t(o.ri,{staticClass:"headline primary white--text pa-2"},[e._v(" Required Documents "),t(H.A),t(ee.A,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(_.A,e._g(e._b({attrs:{color:"white"}},"v-icon",i,!1),s),[e._v(" mdi-information ")])]}}])},[t("span",[e._v("Please check documents that have been submitted")])])],1),t(o.OQ,{staticClass:"pa-6"},[t(U.A,[t(p.A,{attrs:{cols:"12",md:"6"}},[t(y.A,[t(C.A,[t(x.A,[t(a.A,{attrs:{color:"primary"},model:{value:e.enrollmentForm.requirements.form137,callback:function(t){e.$set(e.enrollmentForm.requirements,"form137",t)},expression:"enrollmentForm.requirements.form137"}})],1),t(w.pr,[t(w.UZ,[e._v("Form 137")]),t(w.w,[e._v(" Academic records from previous school ")])],1)],1),t(C.A,[t(x.A,[t(a.A,{attrs:{color:"primary"},model:{value:e.enrollmentForm.requirements.goodMoral,callback:function(t){e.$set(e.enrollmentForm.requirements,"goodMoral",t)},expression:"enrollmentForm.requirements.goodMoral"}})],1),t(w.pr,[t(w.UZ,[e._v("Good Moral Certificate")]),t(w.w,[e._v(" Character certification from previous school ")])],1)],1),t(C.A,[t(x.A,[t(a.A,{attrs:{color:"primary"},model:{value:e.enrollmentForm.requirements.birthCertificate,callback:function(t){e.$set(e.enrollmentForm.requirements,"birthCertificate",t)},expression:"\n                            enrollmentForm.requirements.birthCertificate\n                          "}})],1),t(w.pr,[t(w.UZ,[e._v("Birth Certificate")]),t(w.w,[e._v(" PSA/NSO authenticated copy ")])],1)],1)],1)],1),t(p.A,{attrs:{cols:"12",md:"6"}},[t(y.A,[t(C.A,[t(x.A,[t(a.A,{attrs:{color:"primary"},model:{value:e.enrollmentForm.requirements.pictures,callback:function(t){e.$set(e.enrollmentForm.requirements,"pictures",t)},expression:"enrollmentForm.requirements.pictures"}})],1),t(w.pr,[t(w.UZ,[e._v("2x2 Pictures")]),t(w.w,[e._v(" Recent ID photos (white background) ")])],1)],1),t(C.A,[t(x.A,[t(a.A,{attrs:{color:"primary"},model:{value:e.enrollmentForm.requirements.transcriptOfRecords,callback:function(t){e.$set(e.enrollmentForm.requirements,"transcriptOfRecords",t)},expression:"\n                            enrollmentForm.requirements.transcriptOfRecords\n                          "}})],1),t(w.pr,[t(w.UZ,[e._v("Transcript of Records")]),t(w.w,[e._v(" For transferee students only ")])],1)],1),t(C.A,[t(x.A,[t(a.A,{attrs:{color:"primary"},model:{value:e.enrollmentForm.requirements.placementForm,callback:function(t){e.$set(e.enrollmentForm.requirements,"placementForm",t)},expression:"enrollmentForm.requirements.placementForm"}})],1),t(w.pr,[t(w.UZ,[e._v("Placement Form")]),t(w.w,[e._v(" Student Evaluation ")])],1)],1)],1)],1)],1)],1)],1)],1),t(Z.A,{attrs:{step:"3"}},[t(l.A,{staticClass:"mb-6"},[t(o.ri,{staticClass:"headline primary white--text pa-2"},[e._v(" Enrollment Information ")]),t(o.OQ,{staticClass:"pa-6"},[t(U.A,[t(p.A,{attrs:{cols:"12",md:"6"}},[t(Y.A,{attrs:{items:e.academicYears,label:"Academic Year*",outlined:"",dense:"",required:""},model:{value:e.enrollmentForm.academicYear,callback:function(t){e.$set(e.enrollmentForm,"academicYear",t)},expression:"enrollmentForm.academicYear"}})],1),t(p.A,{attrs:{cols:"12",md:"6"}},[t(Y.A,{attrs:{items:["First","Second"],label:"Semester*",outlined:"",dense:"",required:""},model:{value:e.enrollmentForm.semester,callback:function(t){e.$set(e.enrollmentForm,"semester",t)},expression:"enrollmentForm.semester"}})],1),t(p.A,{attrs:{cols:"12",md:"6"}},[t(Y.A,{attrs:{items:[1,2,3,4],label:"Year Level*",outlined:"",dense:"",required:""},model:{value:e.enrollmentForm.yearLevel,callback:function(t){e.$set(e.enrollmentForm,"yearLevel",t)},expression:"enrollmentForm.yearLevel"}})],1),t(p.A,{attrs:{cols:"12",md:"6"}},[t(J.A,{attrs:{label:"Section*",outlined:"",dense:"",required:"",placeholder:"Enter section"},model:{value:e.enrollmentForm.section,callback:function(t){e.$set(e.enrollmentForm,"section",t)},expression:"enrollmentForm.section"}})],1),t(p.A,{attrs:{cols:"12",md:"6"}},[t(Y.A,{attrs:{items:e.courses,"item-text":"courseName","item-value":"_id",label:"Course*",outlined:"",dense:"","prepend-inner-icon":"mdi-school",required:""},model:{value:e.enrollmentForm.course,callback:function(t){e.$set(e.enrollmentForm,"course",t)},expression:"enrollmentForm.course"}})],1),t(p.A,{attrs:{cols:"12"}},[e.previousSubjects.length?t(l.A,{staticClass:"mb-6"},[t(o.ri,{staticClass:"headline primary white--text pa-2"},[e._v(" Previous Semester Subjects ")]),t(o.OQ,{staticClass:"pa-0"},[t(v.A,{attrs:{headers:e.previousSubjectHeaders,items:e.previousSubjects,dense:"","disable-sort":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.grade",fn:function({item:s}){return[t(c.A,{attrs:{small:"",outlined:"",color:"secondary"}},[e._v(" "+e._s(s.grade)+" ")])]}},{key:"item.remarks",fn:function({item:s}){return[t(c.A,{attrs:{small:"",color:e.getRemarksColor(s.remarks)}},[e._v(" "+e._s(s.remarks)+" ")])]}}],null,!1,783016528)})],1)],1):e._e(),t(i.A,{attrs:{items:e.subjects,loading:e.loading,"item-text":"DescriptiveTitle","item-value":"_id",label:"Select Subjects*",outlined:"",dense:"",multiple:"",chips:"","menu-props":{maxHeight:"400px"}},scopedSlots:e._u([{key:"selection",fn:function({item:s,index:i}){return[i<2?t(c.A,{attrs:{small:"",close:""},on:{"click:close":function(t){return e.removeSubject(s._id)}}},[t("span",[e._v(e._s(s.catNo)+" - "+e._s(s.DescriptiveTitle))]),t(c.A,{staticClass:"ml-2 primary",attrs:{"x-small":""}},[e._v(e._s(s.units)+" units")])],1):e._e(),2===i?t("span",{staticClass:"grey--text caption"},[e._v(" (+"+e._s(e.enrollmentForm.subjects.length-2)+" others) ")]):e._e()]}},{key:"item",fn:function({item:s,attrs:i,on:r}){return[t(C.A,e._g(e._b({attrs:{disabled:!e.validatePrerequisites(s)}},"v-list-item",i,!1),r),[t(w.pr,[t(w.UZ,[e._v(" "+e._s(s.catNo)+" - "+e._s(s.DescriptiveTitle)+" "),t(c.A,{staticClass:"ml-2",attrs:{"x-small":"",color:"primary"}},[e._v(e._s(s.units)+" units")]),e.hasFailedPrerequisite(s)?t(c.A,{staticClass:"ml-2",attrs:{"x-small":"",color:"error"}},[e._v(" Failed Prerequisites ")]):e._e()],1),t(w.w,{staticClass:"caption"},[e._v(" Prerequisites: "+e._s(s.prerequisites.join(", ")||"None")+" ")])],1)],1)]}}]),model:{value:e.enrollmentForm.subjects,callback:function(t){e.$set(e.enrollmentForm,"subjects",t)},expression:"enrollmentForm.subjects"}}),t(l.A,{staticClass:"mt-4",attrs:{outlined:""}},[t(y.A,{attrs:{dense:""}},[t(K.A,[e._v("Selected Subjects")]),e._l(e.selectedSubjects,(function(s){return t(C.A,{key:s._id},[t(w.pr,[t(w.UZ,{staticClass:"d-flex align-center"},[t("span",[e._v(e._s(s.catNo)+" - "+e._s(s.DescriptiveTitle))]),t(c.A,{staticClass:"ml-2",attrs:{"x-small":"",color:"primary"}},[e._v(e._s(s.units)+" units")])],1),t(w.w,{staticClass:"caption"},[e._v(" Prerequisites: "+e._s(s.prerequisites.join(", ")||"None")+" ")])],1),t(x.A,[t(n.A,{attrs:{icon:"",small:"",color:"error"},on:{click:function(t){return e.removeSubject(s._id)}}},[t(_.A,[e._v("mdi-delete")])],1)],1)],1)})),e.selectedSubjects.length?e._e():t(C.A,[t(w.pr,[t(w.UZ,{staticClass:"text-center grey--text"},[e._v(" No subjects selected ")])],1)],1),t(A.A),t(C.A,[t(w.pr,[t(w.UZ,{staticClass:"font-weight-medium"},[e._v(" Total Units: "+e._s(e.totalUnits)+" ")])],1)],1)],2)],1)],1)],1)],1)],1)],1),t(Z.A,{attrs:{step:"4"}},[t(S.vt,[t("div",{staticClass:"form-section"},[t(l.A,{staticClass:"mb-6"},[t(o.ri,{staticClass:"headline primary white--text d-flex align-center pa-2"},[e._v(" Review Enrollment Details "),t(H.A)],1),t(o.OQ,{staticClass:"review-content py-4"},[t("div",{staticClass:"d-flex align-center mb-6"},[t(r.A,{staticClass:"mr-6",attrs:{size:"120",color:"grey lighten-2"}},[t(_.A,{attrs:{size:"48",color:"grey darken-2"}},[e._v("mdi-account")])],1),t("div",[t("div",{staticClass:"text-h4 primary--text mb-1"},[e._v(" "+e._s("new"===e.enrollmentForm.enrollmentType?`${e.studentForm.name.surname}, ${e.studentForm.name.firstName} ${e.studentForm.name.middleName||""} ${e.studentForm.name.nameExtension||""}`:e.getStudentFullName(e.selectedStudent))+" ")]),t("div",{staticClass:"text-h6 grey--text"},[e._v(" "+e._s(e.getCourseNameById(e.enrollmentForm.course))+" ")])])],1),t("div",{staticClass:"review-section mb-6"},[t("div",{staticClass:"section-header"},[t(_.A,{staticClass:"mr-2",attrs:{color:"primary"}},[e._v("mdi-school")]),t("span",{staticClass:"text-h6"},[e._v("Enrollment Information")]),t(n.A,{staticClass:"float-right",attrs:{text:"",small:"",color:"primary"},on:{click:function(t){return e.editSection(3)}}},[t(_.A,{attrs:{left:"",small:""}},[e._v("mdi-pencil")]),e._v(" Edit ")],1)],1),t(A.A,{staticClass:"my-3"}),t(U.A,{attrs:{dense:""}},[t(p.A,{attrs:{cols:"12",sm:"6",md:"4"}},[t("div",{staticClass:"info-item"},[t("div",{staticClass:"info-label"},[e._v("Academic Year")]),t("div",{staticClass:"info-value"},[e._v(" "+e._s(e.enrollmentForm.academicYear)+" ")])])]),t(p.A,{attrs:{cols:"12",sm:"6",md:"4"}},[t("div",{staticClass:"info-item"},[t("div",{staticClass:"info-label"},[e._v("Semester")]),t("div",{staticClass:"info-value"},[e._v(" "+e._s(e.enrollmentForm.semester)+" ")])])]),t(p.A,{attrs:{cols:"12",sm:"6",md:"4"}},[t("div",{staticClass:"info-item"},[t("div",{staticClass:"info-label"},[e._v("Year Level")]),t("div",{staticClass:"info-value"},[e._v(" "+e._s(e.enrollmentForm.yearLevel)+" ")])])]),t(p.A,{attrs:{cols:"12",sm:"6",md:"4"}},[t("div",{staticClass:"info-item"},[t("div",{staticClass:"info-label"},[e._v("Section")]),t("div",{staticClass:"info-value"},[e._v(" "+e._s(e.enrollmentForm.section)+" ")])])])],1)],1),"new"===e.enrollmentForm.enrollmentType?[t("div",{staticClass:"review-section mb-6"},[t("div",{staticClass:"section-header"},[t(_.A,{staticClass:"mr-2",attrs:{color:"primary"}},[e._v("mdi-account-details")]),t("span",{staticClass:"text-h6"},[e._v("Student Information")]),t(n.A,{staticClass:"float-right",attrs:{text:"",small:"",color:"primary"},on:{click:function(t){return e.editSection(2)}}},[t(_.A,{attrs:{left:"",small:""}},[e._v("mdi-pencil")]),e._v(" Edit ")],1)],1),t(A.A,{staticClass:"my-3"}),t(U.A,{attrs:{dense:""}},[t(p.A,{attrs:{cols:"12",sm:"6",md:"4"}},[t("div",{staticClass:"info-item"},[t("div",{staticClass:"info-label"},[e._v("Gender")]),t("div",{staticClass:"info-value"},[e._v(" "+e._s(e.studentForm.personalInfo.gender)+" ")])])]),t(p.A,{attrs:{cols:"12",sm:"6",md:"4"}},[t("div",{staticClass:"info-item"},[t("div",{staticClass:"info-label"},[e._v("Date of Birth")]),t("div",{staticClass:"info-value"},[e._v(" "+e._s(e.formattedDateOfBirth)+" ")])])]),t(p.A,{attrs:{cols:"12",sm:"6",md:"4"}},[t("div",{staticClass:"info-item"},[t("div",{staticClass:"info-label"},[e._v("Home Address")]),t("div",{staticClass:"info-value"},[e._v(" "+e._s(e.studentForm.homeAddress)+" ")])])])],1)],1),t("div",{staticClass:"review-section mb-6"},[t("div",{staticClass:"section-header"},[t(_.A,{staticClass:"mr-2",attrs:{color:"primary"}},[e._v("mdi-file-document")]),t("span",{staticClass:"text-h6"},[e._v("Required Documents")]),t(n.A,{staticClass:"float-right",attrs:{text:"",small:"",color:"primary"},on:{click:function(t){return e.editSection(2)}}},[t(_.A,{attrs:{left:"",small:""}},[e._v("mdi-pencil")]),e._v(" Edit ")],1)],1),t(A.A,{staticClass:"my-3"}),t(h,{attrs:{column:""}},[e.enrollmentForm.requirements.form137?t(c.A,{attrs:{small:""}},[e._v("Form 137")]):e._e(),e.enrollmentForm.requirements.goodMoral?t(c.A,{attrs:{small:""}},[e._v("Good Moral")]):e._e(),e.enrollmentForm.requirements.birthCertificate?t(c.A,{attrs:{small:""}},[e._v("Birth Certificate")]):e._e(),e.enrollmentForm.requirements.pictures?t(c.A,{attrs:{small:""}},[e._v("2x2 Pictures")]):e._e(),e.enrollmentForm.requirements.transcriptOfRecords?t(c.A,{attrs:{small:""}},[e._v("Transcript")]):e._e()],1)],1)]:e._e(),t("div",{staticClass:"review-section mb-6"},[t("div",{staticClass:"section-header"},[t(_.A,{staticClass:"mr-2",attrs:{color:"primary"}},[e._v("mdi-clipboard-list")]),t("span",{staticClass:"text-h6"},[e._v("Selected Subjects")]),t(n.A,{staticClass:"float-right",attrs:{text:"",small:"",color:"primary"},on:{click:function(t){return e.editSection(3)}}},[t(_.A,{attrs:{left:"",small:""}},[e._v("mdi-pencil")]),e._v(" Edit ")],1)],1),t(A.A,{staticClass:"my-3"}),t(l.A,{attrs:{outlined:""}},[t(y.A,{attrs:{dense:""}},[e._l(e.selectedSubjects,(function(s){return t(C.A,{key:s._id},[t(w.pr,[t(w.UZ,{staticClass:"d-flex align-center"},[t("span",[e._v(e._s(s.catNo)+" - "+e._s(s.DescriptiveTitle))]),t(c.A,{staticClass:"ml-2",attrs:{"x-small":"",color:"primary"}},[e._v(e._s(s.units)+" units")])],1),t(w.w,{staticClass:"caption"},[e._v(" Prerequisites: "+e._s(s.prerequisites.join(", ")||"None")+" ")])],1)],1)})),e.selectedSubjects.length?e._e():t(C.A,[t(w.pr,[t(w.UZ,{staticClass:"text-center grey--text"},[e._v(" No subjects selected ")])],1)],1),t(A.A),t(C.A,[t(w.pr,[t(w.UZ,{staticClass:"font-weight-medium"},[e._v(" Total Units: "+e._s(e.totalUnits)+" ")])],1)],1)],2)],1)],1),t(l.A,{staticClass:"mb-6",attrs:{outlined:""}},[t(o.OQ,[t(a.A,{staticClass:"mt-0",attrs:{color:"primary"},scopedSlots:e._u([{key:"label",fn:function(){return[t("div",[e._v(" I confirm that all the information provided is accurate and complete. "),t("span",{staticClass:"red--text"},[e._v("*")])])]},proxy:!0}]),model:{value:e.confirmEnrollment,callback:function(t){e.confirmEnrollment=t},expression:"confirmEnrollment"}})],1)],1)],2)],1)],1)])],1)],1)],1),t(l.A,{staticClass:"mt-6",attrs:{flat:""}},[t(o.SL,[e.currentStep>1?t(n.A,{attrs:{text:"",color:"primary"},on:{click:e.previousStep}},[t(_.A,{attrs:{left:""}},[e._v("mdi-arrow-left")]),e._v(" Previous ")],1):e._e(),t(H.A),e.currentStep<4?t(n.A,{attrs:{color:"primary"},on:{click:e.nextStep}},[e._v(" Next "),t(_.A,{attrs:{right:""}},[e._v("mdi-arrow-right")])],1):t(n.A,{attrs:{color:"success",disabled:!e.confirmEnrollment,loading:e.loading},on:{click:e.submitEnrollment}},[e._v(" Submit "),t(_.A,{attrs:{right:""}},[e._v("mdi-check")])],1)],1)],1)],1),t(V.A,{attrs:{color:e.snackbar.color,timeout:e.snackbar.timeout},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(n.A,e._b({attrs:{text:""},on:{click:function(t){e.snackbar.show=!1}}},"v-btn",s,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[e._v(" "+e._s(e.snackbar.text)+" ")])],1)},se=[],ie=(s(44114),s(95353)),re=(s(95093),{name:"EnrollmentStepper",data:()=>({search:"",studentHeaders:[{text:"Name",value:"name",template:"item.name"},{text:"Student ID",value:"studentId"},{text:"Course",value:"course",template:"item.course"}],dateMenu:!1,currentStep:1,loading:!1,confirmEnrollment:!1,selectedStudent:null,studentForm:{name:{surname:"",firstName:"",middleName:"",nameExtension:""},personalInfo:{gender:null},dateOfBirth:null,homeAddress:""},enrollmentForm:{enrollmentType:null,student:null,academicYear:"",semester:"",yearLevel:null,course:null,section:"",subjects:[],requirements:{form137:!1,goodMoral:!1,birthCertificate:!1,pictures:!1,transcriptOfRecords:!1}},availableSubjects:[],subjects:[],previousSubjectHeaders:[{text:"Subject Code",value:"catNo"},{text:"Description",value:"DescriptiveTitle"},{text:"Units",value:"units"},{text:"Grade",value:"grade"},{text:"Remarks",value:"remarks"}],previousSubjects:[],snackbar:{show:!1,text:"",color:"success",timeout:5e3}}),computed:{...(0,ie.aH)("students",["students"]),...(0,ie.aH)("courses",["courses"]),...(0,ie.L8)("students",["filteredStudent"]),filteredStudents(){return this.$store.getters["students/filteredStudent"](this.search)},formattedDateOfBirth(){return this.studentForm.dateOfBirth?new Date(this.studentForm.dateOfBirth).toLocaleDateString():""},selectedSubjects(){return this.enrollmentForm.subjects.map((e=>this.subjects.find((t=>t._id===e)))).filter(Boolean)},totalUnits(){return this.selectedSubjects.reduce(((e,t)=>e+t.units),0)},userRoles(){const e=JSON.parse(localStorage.getItem("user"))?.user;return e?.role?.map((e=>e.name.toLowerCase()))||[]},isAdmin(){return this.userRoles.includes("admin")},isProgramHead(){return this.userRoles.includes("program head")},isRegistrar(){return this.userRoles.includes("registrar")},initialStep(){return this.isRegistrar?2:1},academicYears(){const e=2023,t=2030,s=[];for(let i=e;i<t;i++)s.push(`${i}-${i+1}`);return s}},methods:{...(0,ie.i0)("students",["fetchStudents"]),...(0,ie.i0)("courses",["fetchCourses"]),...(0,ie.i0)("enrollments",["enrollNewStudent","enrollContinuingStudent"]),...(0,ie.i0)("teacherLoad",["updateTeacherLoadStudents","fetchStudentSubjectGrade"]),getStatusColor(e){const t={pending:"warning",evaluated:"info",enrolled:"success"};return t[e]||"warning"},removeSubject(e){this.enrollmentForm.subjects=this.enrollmentForm.subjects.filter((t=>t!==e))},getGradeColor(e){return e>=75?"success":"error"},getRemarksColor(e){return"Passed"===e?"success":"error"},validatePrerequisites(e){return!e.prerequisites?.length||e.prerequisites.every((e=>{const t=this.previousSubjects.find((t=>t.catNo===e));return!!t&&"Passed"===t.remarks}))},hasFailedPrerequisite(e){return!!e.prerequisites?.length&&e.prerequisites.some((e=>{const t=this.previousSubjects.find((t=>t.catNo===e));return"Failed"===t?.remarks}))},nextStep(){this.validateCurrentStep()&&(1===this.currentStep&&(this.isProgramHead||"old"===this.enrollmentForm.enrollmentType)?this.currentStep=3:this.currentStep++)},editSection(e){this.currentStep=e},getStudentFullName(e){const t=this.students.find((t=>t._id===e));return t?t.fullName:""},getCourseNameById(e){const t=this.courses.find((t=>t._id===e));return t?t.courseName:""},previousStep(){this.isRegistrar&&this.currentStep<=2||(3!==this.currentStep||!this.isProgramHead&&"old"!==this.enrollmentForm.enrollmentType?this.currentStep--:this.currentStep=1)},validateCurrentStep(){return!(1===this.currentStep&&"old"===this.enrollmentForm.enrollmentType&&!this.selectedStudent)},handleStudentSelect(e){if(this.selectedStudent=e.item._id,this.selectedStudent){const e=this.students.find((e=>e._id===this.selectedStudent));e?.course&&(this.enrollmentForm.course=e.course)}},async fetchSubjects(){if(this.enrollmentForm.yearLevel&&this.enrollmentForm.semester&&this.enrollmentForm.course){const[e,t]=await Promise.all([this.$store.dispatch("subjects/fetchSubjects",{semester:this.enrollmentForm.semester,yearLevel:this.enrollmentForm.yearLevel,course:this.enrollmentForm.course}),this.fetchStudentSubjectGrade({semester:this.enrollmentForm.semester,yearLevel:this.enrollmentForm.yearLevel,course:this.enrollmentForm.course,student:this.selectedStudent,academicYear:this.enrollmentForm.academicYear})]);this.previousSubjects=t,this.subjects=e}},async submitEnrollment(){try{this.loading=!0;const e={academicYear:this.enrollmentForm.academicYear,semester:this.enrollmentForm.semester,yearLevel:this.enrollmentForm.yearLevel,course:this.enrollmentForm.course,enrollmentType:this.enrollmentForm.enrollmentType,subjects:this.enrollmentForm.subjects,enrollmentStatus:"evaluated"};let t;if("new"===this.enrollmentForm.enrollmentType){const s={name:this.studentForm.name,personalInfo:this.studentForm.personalInfo,dateOfBirth:this.studentForm.dateOfBirth,homeAddress:this.studentForm.homeAddress,requirements:this.enrollmentForm.requirements,course:this.enrollmentForm.course};t=await this.enrollNewStudent({studentData:s,enrollmentData:e})}else t=await this.enrollContinuingStudent({studentId:this.selectedStudent,enrollmentData:e});"success"===t.status&&(this.showMessage("Enrollment successfully submitted!","success"),this.resetForm(),this.currentStep=1,this.confirmEnrollment=!1)}catch(e){console.error("Error submitting enrollment:",e),this.showMessage(e.response.data.message)}finally{this.loading=!1}},showMessage(e,t="success"){this.snackbar.text=e,this.snackbar.color=t,this.snackbar.show=!0},resetForm(){this.enrollmentForm={enrollmentType:null,student:null,academicYear:"",semester:"",yearLevel:null,course:null,section:"",subjects:[],requirements:{form137:!1,goodMoral:!1,birthCertificate:!1,pictures:!1,transcriptOfRecords:!1}},this.studentForm={name:{surname:"",firstName:"",middleName:"",nameExtension:""},personalInfo:{gender:null},dateOfBirth:null,homeAddress:""},this.selectedStudent=null,this.search="",this.subjects=[],this.previousSubjects=[],this.dateMenu=!1,this.loading=!1,this.confirmEnrollment=!1,this.$refs.form&&(this.$refs.form.resetValidation(),this.$refs.form.reset()),this.snackbar={show:!1,text:"",color:"success",timeout:5e3},this.$refs.studentsTable&&this.$refs.studentsTable.clearSelection()}},async created(){try{this.loading=!0,await Promise.all([this.fetchStudents(),this.fetchCourses(),this.fetchSubjects()]),this.isProgramHead?this.enrollmentForm.enrollmentType="old":this.isRegistrar&&(this.enrollmentForm.enrollmentType="new"),this.currentStep=this.initialStep}catch(e){console.error("Error fetching initial data:",e)}finally{this.loading=!1}},watch:{"enrollmentForm.enrollmentType"(e){"new"===e&&(this.selectedStudent=null,this.search="")},"enrollmentForm.semester":{async handler(){this.enrollmentForm.subjects=[],await this.fetchSubjects()}},"enrollmentForm.yearLevel":{async handler(){this.enrollmentForm.subjects=[],await this.fetchSubjects()}},"enrollmentForm.course":{async handler(){this.enrollmentForm.subjects=[],await this.fetchSubjects()}},currentStep(e){this.$refs.form&&this.$refs.form.resetValidation()}}}),ne=re,le=s(81656),oe=(0,le.A)(ne,te,se,!1,null,"1c8fba94",null),ae=oe.exports},97678:function(e,t,s){s(29);var i=s(25834),r=s(97112),n=s(18041),l=s(4152);const o={...i.v,offsetY:!0,offsetOverflow:!0,transition:!1};t.A=i.A.extend({name:"v-autocomplete",props:{autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(e,t,s)=>s.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:i.A.options.props.menuProps.type,default:()=>o},noFilter:Boolean,searchInput:{type:String}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...i.A.options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map((e=>this.getValue(e)))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some((e=>!this.hasItem(e))):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((e=>{const t=(0,l.TD)(e,this.itemText),s=null!=t?String(t):"";return this.filter(e,String(this.internalSearch),s)}))},internalSearch:{get(){return this.lazySearch},set(e){this.lazySearch!==e&&(this.lazySearch=e,this.$emit("update:search-input",e))}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const e=i.A.options.computed.$_menuProps.call(this);return e.contentClass=`v-autocomplete__content ${e.contentClass||""}`.trim(),{...o,...e}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find((e=>this.valueComparator(this.getValue(e),this.getValue(this.internalValue))))},listData(){const e=i.A.options.computed.listData.call(this);return e.props={...e.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},e}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(e){e?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive(e){!e&&this.hasSlot&&(this.lazySearch=null)},items(e,t){t&&t.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!e.length||this.activateMenu()},searchInput(e){this.lazySearch=e},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(e,t){if(e!==t){if(!this.autoSelectFirst){const s=t[this.$refs.menu.listIndex];s?this.setMenuIndex(e.findIndex((e=>e===s))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((()=>{this.internalSearch&&(1===e.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.autoSelectFirst&&e.length&&(this.setMenuIndex(0),this.$emit("update:list-index",this.$refs.menu.listIndex)))}))}},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(e){this.searchIsDirty||(this.multiple&&e===l.uP.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&e===l.uP.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:e!==l.uP.backspace&&e!==l.uP.delete||this.deleteCurrentItem())},deleteCurrentItem(){const e=this.selectedIndex,t=this.selectedItems[e];if(!this.isInteractive||this.getDisabled(t))return;const s=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==s)return void(this.selectedIndex=s);const i=this.selectedItems.length,r=e!==i-1?e:e-1,n=this.selectedItems[r];n?this.selectItem(t):this.setValue(this.multiple?[]:null),this.selectedIndex=r},clearableCallback(){this.internalSearch=null,i.A.options.methods.clearableCallback.call(this)},genInput(){const e=r.A.options.methods.genInput.call(this);return e.data=(0,n.Ay)(e.data,{attrs:{"aria-activedescendant":(0,l.no)(this.$refs.menu,"activeTile.id"),autocomplete:(0,l.no)(e.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),e},genInputSlot(){const e=i.A.options.methods.genInputSlot.call(this);return e.data.attrs.role="combobox",e},genSelections(){return this.hasSlot||this.multiple?i.A.options.methods.genSelections.call(this):[]},onClick(e){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(e.target)||this.activateMenu())},onInput(e){if(this.selectedIndex>-1||!e.target)return;const t=e.target,s=t.value;t.value&&this.activateMenu(),this.multiple||""!==s||this.deleteCurrentItem(),this.internalSearch=s,this.badInput=t.validity&&t.validity.badInput},onKeyDown(e){const t=e.keyCode;!e.ctrlKey&&[l.uP.home,l.uP.end].includes(t)||i.A.options.methods.onKeyDown.call(this,e),this.changeSelectedIndex(t)},onSpaceDown(e){},onTabDown(e){i.A.options.methods.onTabDown.call(this,e),this.updateSelf()},onUpDown(e){e.preventDefault(),this.activateMenu()},selectItem(e){i.A.options.methods.selectItem.call(this,e),this.setSearch()},setSelectedItems(){i.A.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick((()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))}))},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(e){return this.selectedValues.indexOf(this.getValue(e))>-1},onCopy(e){var t,s;if(-1===this.selectedIndex)return;const i=this.selectedItems[this.selectedIndex],r=this.getText(i);null===(t=e.clipboardData)||void 0===t||t.setData("text/plain",r),null===(s=e.clipboardData)||void 0===s||s.setData("text/vnd.vuetify.autocomplete.item+plain",r),e.preventDefault()}}})},12050:function(e,t,s){s.d(t,{Ql:function(){return p}});var i=s(90569),r=s(45961),n=s(60048),l=s(85054),o=s(45168),a=s(22699),c=s(95803),d=s(4152);function u(e){const t=.501,s=Math.abs(e);return Math.sign(e)*(s/((1/t-2)*(1-s)+1))}function m(e,t,s,i){const r=e.clientWidth,n=s?t.content-e.offsetLeft-r:e.offsetLeft;s&&(i=-i);const l=t.wrapper+i,o=r+n,a=.4*r;return n<=i?i=Math.max(n-a,0):l<=o&&(i=Math.min(i-(l-o-a),t.content-t.wrapper)),s?-i:i}function h(e,t,s){const{offsetLeft:i,clientWidth:r}=e;if(s){const e=t.content-i-r/2-t.wrapper/2;return-Math.min(t.content-t.wrapper,Math.max(0,e))}{const e=i+r/2-t.wrapper/2;return Math.min(t.content-t.wrapper,Math.max(0,e))}}const p=(0,c.A)(n.C,l.A).extend({name:"base-slide-group",directives:{Resize:o.A,Touch:a.A},props:{activeClass:{type:String,default:"v-slide-item--active"},centerActive:Boolean,nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>"boolean"===typeof e||["always","never","desktop","mobile"].includes(e)}},data:()=>({isOverflowing:!1,resizeTimeout:0,startX:0,isSwipingHorizontal:!1,isSwiping:!1,scrollOffset:0,widths:{content:0,wrapper:0}}),computed:{canTouch(){return"undefined"!==typeof window},__cachedNext(){return this.genTransition("next")},__cachedPrev(){return this.genTransition("prev")},classes(){return{...n.C.options.computed.classes.call(this),"v-slide-group":!0,"v-slide-group--has-affixes":this.hasAffixes,"v-slide-group--is-overflowing":this.isOverflowing}},hasAffixes(){switch(this.showArrows){case"always":return!0;case"desktop":return!this.isMobile;case!0:return this.isOverflowing||Math.abs(this.scrollOffset)>0;case"mobile":return this.isMobile||this.isOverflowing||Math.abs(this.scrollOffset)>0;case"never":return!1;default:return!this.isMobile&&(this.isOverflowing||Math.abs(this.scrollOffset)>0)}},hasNext(){if(!this.hasAffixes)return!1;const{content:e,wrapper:t}=this.widths;return e>Math.abs(this.scrollOffset)+t},hasPrev(){return this.hasAffixes&&0!==this.scrollOffset}},watch:{internalValue:"setWidths",isOverflowing:"setWidths",scrollOffset(e){this.$vuetify.rtl&&(e=-e);let t=e<=0?u(-e):e>this.widths.content-this.widths.wrapper?-(this.widths.content-this.widths.wrapper)+u(this.widths.content-this.widths.wrapper-e):-e;this.$vuetify.rtl&&(t=-t),this.$refs.content.style.transform=`translateX(${t}px)`}},mounted(){if("undefined"!==typeof ResizeObserver){const e=new ResizeObserver((()=>{this.onResize()}));e.observe(this.$el),e.observe(this.$refs.content),this.$on("hook:destroyed",(()=>{e.disconnect()}))}else{let e=0;this.$on("hook:beforeUpdate",(()=>{var t;e=((null===(t=this.$refs.content)||void 0===t?void 0:t.children)||[]).length})),this.$on("hook:updated",(()=>{var t;e!==((null===(t=this.$refs.content)||void 0===t?void 0:t.children)||[]).length&&this.setWidths()}))}},methods:{onScroll(){this.$refs.wrapper.scrollLeft=0},onFocusin(e){if(this.isOverflowing)for(const t of(0,d.K9)(e))for(const e of this.items)if(e.$el===t)return void(this.scrollOffset=m(e.$el,this.widths,this.$vuetify.rtl,this.scrollOffset))},genNext(){const e=this.$scopedSlots.next?this.$scopedSlots.next({}):(0,d.$c)(this,"next")||this.__cachedNext;return this.$createElement("div",{staticClass:"v-slide-group__next",class:{"v-slide-group__next--disabled":!this.hasNext},on:{click:()=>this.onAffixClick("next")},key:"next"},[e])},genContent(){return this.$createElement("div",{staticClass:"v-slide-group__content",ref:"content",on:{focusin:this.onFocusin}},(0,d.$c)(this))},genData(){return{class:this.classes,directives:[{name:"resize",value:this.onResize}]}},genIcon(e){let t=e;this.$vuetify.rtl&&"prev"===e?t="next":this.$vuetify.rtl&&"next"===e&&(t="prev");const s=`${e[0].toUpperCase()}${e.slice(1)}`,r=this[`has${s}`];return this.showArrows||r?this.$createElement(i.A,{props:{disabled:!r}},this[`${t}Icon`]):null},genPrev(){const e=this.$scopedSlots.prev?this.$scopedSlots.prev({}):(0,d.$c)(this,"prev")||this.__cachedPrev;return this.$createElement("div",{staticClass:"v-slide-group__prev",class:{"v-slide-group__prev--disabled":!this.hasPrev},on:{click:()=>this.onAffixClick("prev")},key:"prev"},[e])},genTransition(e){return this.$createElement(r.mM,[this.genIcon(e)])},genWrapper(){return this.$createElement("div",{staticClass:"v-slide-group__wrapper",directives:[{name:"touch",value:{start:e=>this.overflowCheck(e,this.onTouchStart),move:e=>this.overflowCheck(e,this.onTouchMove),end:e=>this.overflowCheck(e,this.onTouchEnd)}}],ref:"wrapper",on:{scroll:this.onScroll}},[this.genContent()])},calculateNewOffset(e,t,s,i){const r=s?-1:1,n=r*i+("prev"===e?-1:1)*t.wrapper;return r*Math.max(Math.min(n,t.content-t.wrapper),0)},onAffixClick(e){this.$emit(`click:${e}`),this.scrollTo(e)},onResize(){this._isDestroyed||this.setWidths()},onTouchStart(e){const{content:t}=this.$refs;this.startX=this.scrollOffset+e.touchstartX,t.style.setProperty("transition","none"),t.style.setProperty("willChange","transform")},onTouchMove(e){if(this.canTouch){if(!this.isSwiping){const t=e.touchmoveX-e.touchstartX,s=e.touchmoveY-e.touchstartY;this.isSwipingHorizontal=Math.abs(t)>Math.abs(s),this.isSwiping=!0}this.isSwipingHorizontal&&(this.scrollOffset=this.startX-e.touchmoveX,document.documentElement.style.overflowY="hidden")}},onTouchEnd(){if(!this.canTouch)return;const{content:e,wrapper:t}=this.$refs,s=e.clientWidth-t.clientWidth;e.style.setProperty("transition",null),e.style.setProperty("willChange",null),this.$vuetify.rtl?this.scrollOffset>0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset<=-s&&(this.scrollOffset=-s):this.scrollOffset<0||!this.isOverflowing?this.scrollOffset=0:this.scrollOffset>=s&&(this.scrollOffset=s),this.isSwiping=!1,document.documentElement.style.removeProperty("overflow-y")},overflowCheck(e,t){e.stopPropagation(),this.isOverflowing&&t(e)},scrollIntoView(){if(!this.selectedItem&&this.items.length){const e=this.items[this.items.length-1].$el.getBoundingClientRect(),t=this.$refs.wrapper.getBoundingClientRect();(this.$vuetify.rtl&&t.right<e.right||!this.$vuetify.rtl&&t.left>e.left)&&this.scrollTo("prev")}this.selectedItem&&(0===this.selectedIndex||!this.centerActive&&!this.isOverflowing?this.scrollOffset=0:this.centerActive?this.scrollOffset=h(this.selectedItem.$el,this.widths,this.$vuetify.rtl):this.isOverflowing&&(this.scrollOffset=m(this.selectedItem.$el,this.widths,this.$vuetify.rtl,this.scrollOffset)))},scrollTo(e){this.scrollOffset=this.calculateNewOffset(e,{content:this.$refs.content?this.$refs.content.clientWidth:0,wrapper:this.$refs.wrapper?this.$refs.wrapper.clientWidth:0},this.$vuetify.rtl,this.scrollOffset)},setWidths(){window.requestAnimationFrame((()=>{if(this._isDestroyed)return;const{content:e,wrapper:t}=this.$refs;this.widths={content:e?e.clientWidth:0,wrapper:t?t.clientWidth:0},this.isOverflowing=this.widths.wrapper+1<this.widths.content,this.scrollIntoView()}))}},render(e){return e("div",this.genData(),[this.genPrev(),this.genWrapper(),this.genNext()])}});p.extend({name:"v-slide-group",provide(){return{slideGroup:this}}})},29:function(){}}]);
//# sourceMappingURL=583.cd841d1e.js.map